<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:finder="clr-namespace:FaPA.Infrastructure.Finder"
                    xmlns:templates="clr-namespace:FaPA.GUI.Design.Templates.SearchTypeTemplates"
                    xmlns:searchFattura="clr-namespace:FaPA.GUI.Feautures.SearchFattura"
                    xmlns:a="clr-namespace:FaPA.GUI.Feautures.Fattura"
                    xmlns:t1="clr-namespace:FaPA.GUI.Design.Templates"
                    xmlns:d="clr-namespace:FaPA.Infrastructure.Dto"
                    xmlns:controls="clr-namespace:FaPA.GUI.Controls"
                    xmlns:utils="clr-namespace:FaPA.GUI.Utils"
                    xmlns:myRecordNavigator="clr-namespace:FaPA.GUI.Controls.MyRecordNavigator"
                    xmlns:local="clr-namespace:FaPA.GUI.Feautures.Anagrafica">

    <DataTemplate x:Key="AnagraficaTemplate">
        <t1:Anagrafica  />
    </DataTemplate>

    <DataTemplate DataType="{x:Type local:AnagraficaListViewModel}">
        <t1:AnagraficaGrid GridItemSource="{Binding Path=DataContext.UserCollectionView,
                                                    RelativeSource={RelativeSource FindAncestor, AncestorType={x:Type Window}}}"
                           IsSynchronizedWithCurrentItem="True"/>
    </DataTemplate>

    <DataTemplate DataType="{x:Type local:EditAnagraficaViewModel}">
        <controls:CRUDVM/>
    </DataTemplate>

    <DataTemplate x:Key="FatturaTemplate">
        <t1:Fattura />
    </DataTemplate>

    <DataTemplate DataType="{x:Type a:FatturaListViewModel}">
        <Border Style="{StaticResource MainBorderStyle}" Margin="5 5 5 5" Height="Auto">
            <t1:FatturaGrid x:Name="FattureGrid" 
                            GridItemSource="{Binding Path=DataContext.UserCollectionView, 
                                                     RelativeSource={RelativeSource FindAncestor, AncestorType={x:Type Window}}}"/>
        </Border>
    </DataTemplate>

    <DataTemplate DataType="{x:Type a:AltriDatiViewModel}">
        <t1:AltriDatiGrid />
    </DataTemplate>    

    <DataTemplate DataType="{x:Type a:EditFatturaViewModel}">
        <controls:CRUDVM/>
    </DataTemplate>

    <DataTemplate DataType="{x:Type a:RitenutaTabViewModel}">
        <t1:Ritenuta/>
    </DataTemplate>

    <DataTemplate DataType="{x:Type a:TrasmittenteTabViewModel}">
        <t1:DatiTrasmittente/>
    </DataTemplate>

    <DataTemplate DataType="{x:Type a:DatiPagamentoTabViewModel}">
        <Grid utils:FocusAdvancement.AdvancesByEnterKey="True">
            <Grid.RowDefinitions >
                <RowDefinition Height="265" />
                <RowDefinition Height="Auto" />
            </Grid.RowDefinitions>

            <Border Margin="2,2,2,2" Padding="2,2,2,2" >
                <Grid Margin="2,2,2,2">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                    </Grid.RowDefinitions>

                    <GroupBox Grid.Row="0" Header="Condizioni Pagamento">
                        <Grid Margin="2,2,2,2">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" />
                            </Grid.RowDefinitions>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>

                            <StackPanel Grid.Row="0" Grid.Column="0" Margin="2,0,0,0">
                                <TextBlock Text="Condizioni" />
                                <TextBox   Height="25" Text="{Binding Dto.CondizioniPagamento, Mode=TwoWay, UpdateSourceTrigger=LostFocus, ValidatesOnDataErrors=True, ValidatesOnNotifyDataErrors=True}" HorizontalAlignment="Stretch"/>
                            </StackPanel>

                            <StackPanel Grid.Row="0" Grid.Column="1" Margin="2,0,2,0">
                                <TextBlock Text="Importo" />
                                <TextBox   Text="{Binding Dto.ImportoPagamento, UpdateSourceTrigger=LostFocus, 
                                                                    NotifyOnValidationError=True, 
                                                                    ValidatesOnDataErrors=True, 
                                                                    NotifyOnTargetUpdated=True, 
                                                                    NotifyOnSourceUpdated=True, 
                                                                    ValidatesOnNotifyDataErrors=True}" 
                                   HorizontalAlignment="Stretch" />
                            </StackPanel>

                            <StackPanel Grid.Row="0" Grid.Column="2" Margin="2,0,2,0">
                                <TextBlock Text="Modalità" />
                                <TextBox   Text="{Binding Dto.ModalitaPagamento, UpdateSourceTrigger=LostFocus, ValidatesOnDataErrors=True}" HorizontalAlignment="Stretch" />
                            </StackPanel>

                            <StackPanel Grid.Row="0" Grid.Column="3" Margin="2,0,2,0">
                                <TextBlock Text="Beneficiario (se diverso)" />
                                <TextBox   Text="{Binding Dto.Beneficiario, Mode=TwoWay, UpdateSourceTrigger=LostFocus, ValidatesOnDataErrors=True}" HorizontalAlignment="Stretch" />
                            </StackPanel>

                            <StackPanel Grid.Row="1" Grid.Column="0" Margin="2,0,2,0">
                                <TextBlock Text="Decorrenza termini pagamento" />
                                <DatePicker SelectedDate="{Binding Dto.DataRiferimentoTerminiPagamento}"/>
                            </StackPanel>

                            <StackPanel Grid.Row="1" Grid.Column="1" Margin="2,0,2,0">
                                <TextBlock Text="Giorni termini pagamento" />
                                <TextBox Text="{Binding Dto.GiorniTerminiPagamento}"/>
                            </StackPanel>

                            <StackPanel Grid.Row="1" Grid.Column="2" Margin="2,0,2,0">
                                <TextBlock Text="Scadenza termini pagamento" />
                                <DatePicker SelectedDate="{Binding Dto.DataScadenzaPagamento}" />
                            </StackPanel>

                            <StackPanel Grid.Row="2" Grid.Column="0" Margin="2,0,2,0">
                                <TextBlock Text="Sconto pagamento anticipato" />
                                <TextBox Text="{Binding Dto.ScontoPagamentoAnticipato}"/>
                            </StackPanel>

                            <StackPanel Grid.Row="2" Grid.Column="1" Margin="2,0,2,0">
                                <TextBlock Text="Limite pagamento anticipato" />
                                <DatePicker SelectedDate="{Binding Dto.DataLimitePagamentoAnticipato}"/>
                            </StackPanel>

                            <StackPanel Grid.Row="2" Grid.Column="2" Margin="2,0,2,0">
                                <TextBlock Text="Penalità pagamenti ritardati" />
                                <TextBox Text="{Binding Dto.PenalitaPagamentiRitardati}" />
                            </StackPanel>

                            <StackPanel Grid.Row="2" Grid.Column="3" Margin="2,0,2,0">
                                <TextBlock Text="Decorrenza penale" />
                                <DatePicker SelectedDate="{Binding Dto.DataDecorrenzaPenale}"/>
                            </StackPanel>

                            <StackPanel Grid.Row="3" Grid.Column="0" Grid.ColumnSpan="4" Margin="2,0,2,0">
                                <TextBlock Text="Istituto finanziario" />
                                <TextBox   Text="{Binding Dto.IstitutoFinanziario, Mode=TwoWay, UpdateSourceTrigger=LostFocus, ValidatesOnDataErrors=True}" HorizontalAlignment="Stretch" />
                            </StackPanel>

                            <StackPanel Grid.Row="3" Grid.Column="4" Margin="2,0,2,0">
                                <TextBlock Text="Cod. Uff. Postale" />
                                <TextBox   Text="{Binding Dto.CodUfficioPostale, UpdateSourceTrigger=LostFocus, ValidatesOnDataErrors=True}" HorizontalAlignment="Stretch" />
                            </StackPanel>

                            <StackPanel Grid.Row="4" Grid.Column="0" Margin="2,0,2,0">
                                <TextBlock Text="Iban" />
                                <TextBox   Text="{Binding Dto.Iban, UpdateSourceTrigger=LostFocus, ValidatesOnDataErrors=True}" HorizontalAlignment="Stretch" />
                            </StackPanel>

                            <StackPanel Grid.Row="4" Grid.Column="1" Margin="2,0,2,0">
                                <TextBlock Text="Abi" />
                                <TextBox   Text="{Binding Dto.Abi, UpdateSourceTrigger=LostFocus, ValidatesOnDataErrors=True}" HorizontalAlignment="Stretch" />
                            </StackPanel>

                            <StackPanel Grid.Row="4" Grid.Column="2" Margin="2,0,2,0">
                                <TextBlock Text="Cab" />
                                <TextBox   Text="{Binding Dto.Cab, UpdateSourceTrigger=LostFocus, ValidatesOnDataErrors=True}" HorizontalAlignment="Stretch" />
                            </StackPanel>

                            <StackPanel Grid.Row="4" Grid.Column="3" Margin="2,0,2,0">
                                <TextBlock Text="Bic" />
                                <TextBox   Text="{Binding Dto.Bic, UpdateSourceTrigger=LostFocus, ValidatesOnDataErrors=True}" HorizontalAlignment="Stretch" />
                            </StackPanel>

                            <StackPanel Grid.Row="5" Grid.Column="0" Margin="2,0,2,0">
                                <TextBlock Text="Cognome quietanzante" />
                                <TextBox   Text="{Binding Dto.CognomeQuietanzante, UpdateSourceTrigger=LostFocus, ValidatesOnDataErrors=True}" HorizontalAlignment="Stretch" />
                            </StackPanel>

                            <StackPanel Grid.Row="5" Grid.Column="1" Margin="2,0,2,0">
                                <TextBlock Text="Nome quietanzante" />
                                <TextBox   Text="{Binding Dto.NomeQuietanzante, UpdateSourceTrigger=LostFocus, ValidatesOnDataErrors=True}" HorizontalAlignment="Stretch" />
                            </StackPanel>

                            <StackPanel Grid.Row="5" Grid.Column="2" Margin="2,0,2,0">
                                <TextBlock Text="CfQuietanzante" />
                                <TextBox   Text="{Binding Dto.CfQuietanzante, UpdateSourceTrigger=LostFocus, ValidatesOnDataErrors=True}" HorizontalAlignment="Stretch" />
                            </StackPanel>

                            <StackPanel Grid.Row="5" Grid.Column="3" Margin="2,0,2,0">
                                <TextBlock Text="Titolo quietanzante" />
                                <TextBox   Text="{Binding Dto.TitoloQuietanzante, UpdateSourceTrigger=LostFocus, ValidatesOnDataErrors=True}" HorizontalAlignment="Stretch" />
                            </StackPanel>

                        </Grid>
                    </GroupBox>

                </Grid>
            </Border>

            <StackPanel Orientation="Horizontal" Grid.Row="1" Height="Auto"  Margin="2,2,2,2" >

                <!--<StackPanel.InputBindings>
                <KeyBinding Key="Enter" Modifiers="Ctrl" Command="{Binding EnterKey}" />
                <KeyBinding Key="F9"  Command="{Binding SearchOnSite}" />
            </StackPanel.InputBindings>-->

                <Border Margin="2,2,2,2" Padding="2,5,4,4" Height="32">
                    <myRecordNavigator:MyRecordNavigator ItemsSource="{Binding UserCollectionView}"/>
                </Border>

                <DockPanel Height="25" Margin="2,2,2,2" Background="{StaticResource Brush_ToolBar}">

                    <Button Name="Add"
                    Command="{Binding AddItemCommand}"                        
                    ToolTip="Aggiunge una sheda dati pagamento" >

                        <Image Source="/GUI/Design/Styles/Images/Add_24.png" Width="Auto"/>
                    </Button>

                    <Button Name="Delete"
                    Command="{Binding DeleteEntityCommand}"                        
                    ToolTip="Elimina definitivamente l'oggetto dal database" >

                        <Image Source="/GUI/Design/Styles/Images/delete(1).png" Width="25"/>
                    </Button>


                    <Button Name="Save" Command="{Binding SaveEntity}" Width="Auto"
                        ToolTip="Salva le modifiche apportate all'oggetto">

                        <Image Source="/GUI/Design/Styles/Images/save(1).png" Width="25"/>
                    </Button>

                    <Button Name="Cancel" Command="{Binding PerformCancel}"   Width="25" HorizontalAlignment="Left"                
                        ToolTip="Annulla le modifiche apportate"  >

                        <Image Source="/GUI/Design/Styles/Images/cancel.png" Width="25"/>

                    </Button>

                </DockPanel>

            </StackPanel>

        </Grid>
    </DataTemplate>

    <DataTemplate DataType="{x:Type a:DatiOrdineTabViewModel}">
        <t1:DatiOrdine/>
    </DataTemplate>

    <DataTemplate  DataType="{x:Type d:DatiOrdineAcquistoDto}">

        <Grid Margin="2,2,2,2">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
            </Grid.RowDefinitions>

            <GroupBox Grid.Row="0" Header="Dati ordine di acquisto">
                <Grid Margin="2,2,2,2">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                    </Grid.RowDefinitions>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>

                    <StackPanel Grid.Row="0" Grid.Column="0" Margin="2,0,2,0">
                            <TextBlock Text="Id Documento" />
                        <TextBox   Text="{Binding IdDocumento, Mode=TwoWay, UpdateSourceTrigger=LostFocus, 
                                                                            ValidatesOnDataErrors=True, 
                                                                            ValidatesOnNotifyDataErrors=True, 
                                                                            NotifyOnSourceUpdated=True, 
                                                                            NotifyOnTargetUpdated=True, 
                                                                            NotifyOnValidationError=True}" 
                                   HorizontalAlignment="Stretch" />
                    </StackPanel>                    

                    <StackPanel Grid.Row="0" Grid.Column="1" Margin="2,0,2,0" Width="25">
                        <TextBlock Text="CIG" />
                        <TextBox   Text="{Binding CodiceCig, Mode=TwoWay, UpdateSourceTrigger=LostFocus, ValidatesOnDataErrors=True, ValidatesOnNotifyDataErrors=True}" HorizontalAlignment="Stretch" />
                    </StackPanel>

                    <StackPanel Grid.Row="0" Grid.Column="2" Margin="2,0,2,0" Width="25">
                        <TextBlock Text="CUP" />
                        <TextBox   Text="{Binding CodiceCup, Mode=TwoWay, UpdateSourceTrigger=LostFocus, ValidatesOnDataErrors=True, ValidatesOnNotifyDataErrors=True}" HorizontalAlignment="Stretch" />
                    </StackPanel>

                    <StackPanel Grid.Row="0" Grid.Column="3" Margin="2,0,2,0" MinWidth="25">
                        <TextBlock Text="Codice Commessa" />
                        <TextBox   Text="{Binding CodiceCommessaConvenzione, Mode=TwoWay, UpdateSourceTrigger=LostFocus, ValidatesOnDataErrors=True, ValidatesOnNotifyDataErrors=True}" HorizontalAlignment="Stretch" />
                    </StackPanel>

                    <!--

                        <StackPanel Grid.Row="1" Grid.Column="1" Margin="2,0,2,0">
                            <TextBlock Text="Data documento" />
                            <TextBox   Text="{Binding Data, Mode=TwoWay, StringFormat='{}{0:d}', ValidatesOnDataErrors=True, NotifyOnTargetUpdated=True, NotifyOnSourceUpdated=True}" HorizontalAlignment="Stretch"/>
                        </StackPanel>

                        <StackPanel Grid.Row="1" Grid.Column="2" Margin="2,0,2,0">
                            <TextBlock Text="NumItem" />
                            <TextBox   Text="{Binding CodiceCommessaConvenzione, Mode=TwoWay, UpdateSourceTrigger=LostFocus, ValidatesOnDataErrors=True}" HorizontalAlignment="Stretch" />
                        </StackPanel>-->

                </Grid>

            </GroupBox>

        </Grid>

    </DataTemplate>

    <DataTemplate DataType="{x:Type finder:StringSearchProperty}">
        <templates:TypeStringCriterion/>
    </DataTemplate>

    <DataTemplate DataType="{x:Type finder:EnumSearchProperty}">
        <templates:TypeEnumCriterion />
    </DataTemplate>

    <DataTemplate DataType="{x:Type finder:DoubleSearchProperty}">
        <templates:TypeNullDoubleCriterion />
    </DataTemplate>

    <DataTemplate DataType="{x:Type finder:FloatSearchProperty}">
        <templates:TypeNullDoubleCriterion />
    </DataTemplate>

    <DataTemplate DataType="{x:Type finder:Int64SearchProperty}">
        <templates:TypeNullInt64Criterion />
    </DataTemplate>

    <DataTemplate DataType="{x:Type finder:DateTimeSearchProperty}">
        <templates:TypeDateTimeCriterion />
    </DataTemplate>

    <DataTemplate DataType="{x:Type searchFattura:FornitoreSearchProperty}">
        <templates:TypeAssociationByComboBoxCriterion />
    </DataTemplate>

    <DataTemplate DataType="{x:Type searchFattura:CommittenteSearchProperty}">
        <templates:TypeAssociationByComboBoxCriterion />
    </DataTemplate>
    
    <!--<DataTemplate DataType="{x:Type searchFattura:CodicePoDSearchProperty}">
        <templates:TypeAssociationByComboBoxCriterion />
    </DataTemplate>-->

    <!--<DataTemplate DataType="{x:Type searchFattura:TagSearchProperty}">
        <templates:TypeTagsAssociationByCheckBoxCriterion />
    </DataTemplate>-->


    <!--<DataTemplate DataType="{x:Type searchPoD:ClassificazioneSearchProperty}">
        <templates:TypeAssociationByComboBoxCriterion />
    </DataTemplate>-->

</ResourceDictionary>